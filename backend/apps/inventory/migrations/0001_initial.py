# Generated by Django 5.0.14 on 2025-12-08 10:26

import django.core.validators
import django.db.models.deletion
import uuid
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Brand',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Nombre de la marca (ej. "Samsung")', max_length=100, unique=True, verbose_name='Nombre')),
                ('description', models.TextField(blank=True, verbose_name='Descripción')),
                ('logo', models.ImageField(blank=True, null=True, upload_to='brands/', verbose_name='Logo')),
                ('website', models.URLField(blank=True, verbose_name='Sitio Web')),
                ('is_active', models.BooleanField(default=True, verbose_name='Activa')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
            ],
            options={
                'verbose_name': 'Marca',
                'verbose_name_plural': 'Marcas',
                'db_table': 'inventory_brands',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Category',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Nombre de la categoría (ej. "Electrónica")', max_length=100, verbose_name='Nombre')),
                ('code', models.CharField(help_text='Código único de la categoría (ej. "ELEC")', max_length=50, unique=True, verbose_name='Código')),
                ('description', models.TextField(blank=True, verbose_name='Descripción')),
                ('image', models.ImageField(blank=True, null=True, upload_to='categories/', verbose_name='Imagen')),
                ('is_active', models.BooleanField(default=True, verbose_name='Activa')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('parent', models.ForeignKey(blank=True, help_text='Categoría padre para crear jerarquías', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='children', to='inventory.category', verbose_name='Categoría Padre')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
            ],
            options={
                'verbose_name': 'Categoría',
                'verbose_name_plural': 'Categorías',
                'db_table': 'inventory_categories',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Product',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('sku', models.CharField(help_text='Stock Keeping Unit - Código interno único', max_length=50, unique=True, verbose_name='SKU')),
                ('barcode', models.CharField(blank=True, db_index=True, help_text='EAN-13, UPC-A o código interno para escaneo', max_length=50, null=True, verbose_name='Código de Barras')),
                ('qr_code', models.CharField(blank=True, max_length=100, null=True, verbose_name='Código QR')),
                ('name', models.CharField(help_text='Nombre del producto', max_length=200, verbose_name='Nombre')),
                ('description', models.TextField(blank=True, help_text='Descripción detallada del producto', verbose_name='Descripción')),
                ('brand', models.CharField(blank=True, max_length=100, verbose_name='Marca')),
                ('model', models.CharField(blank=True, max_length=100, verbose_name='Modelo')),
                ('cost_price', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Costo unitario de adquisición', max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Precio de Costo')),
                ('sale_price', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Precio de venta al público', max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Precio de Venta')),
                ('min_sale_price', models.DecimalField(blank=True, decimal_places=2, help_text='Precio mínimo permitido (para control de descuentos)', max_digits=12, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Precio Mínimo')),
                ('min_stock', models.IntegerField(default=0, help_text='Cantidad mínima antes de generar alerta', validators=[django.core.validators.MinValueValidator(0)], verbose_name='Stock Mínimo')),
                ('max_stock', models.IntegerField(default=0, help_text='Cantidad máxima recomendada', validators=[django.core.validators.MinValueValidator(0)], verbose_name='Stock Máximo')),
                ('reorder_point', models.IntegerField(default=0, help_text='Cantidad a la cual generar orden de compra', validators=[django.core.validators.MinValueValidator(0)], verbose_name='Punto de Reorden')),
                ('reorder_quantity', models.IntegerField(default=0, help_text='Cantidad a ordenar cuando se alcanza el punto de reorden', validators=[django.core.validators.MinValueValidator(0)], verbose_name='Cantidad de Reorden')),
                ('product_type', models.CharField(choices=[('storable', 'Almacenable'), ('service', 'Servicio'), ('consumable', 'Consumible')], default='storable', max_length=20, verbose_name='Tipo de Producto')),
                ('track_lots', models.BooleanField(default=False, help_text='Activar para productos con fecha de vencimiento o lotes de producción', verbose_name='Control por Lotes')),
                ('track_serial_numbers', models.BooleanField(default=False, help_text='Activar para productos individuales con números de serie únicos', verbose_name='Control por Número de Serie')),
                ('tax_rate', models.DecimalField(decimal_places=2, default=Decimal('16.00'), help_text='Porcentaje de IVA aplicable', max_digits=5, verbose_name='Tasa de Impuesto (%)')),
                ('tax_exempt', models.BooleanField(default=False, verbose_name='Exento de Impuesto')),
                ('weight', models.DecimalField(blank=True, decimal_places=3, max_digits=10, null=True, verbose_name='Peso (kg)')),
                ('length', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Largo (cm)')),
                ('width', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Ancho (cm)')),
                ('height', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Alto (cm)')),
                ('image', models.ImageField(blank=True, null=True, upload_to='products/', verbose_name='Imagen Principal')),
                ('is_active', models.BooleanField(default=True, help_text='Si está disponible para venta', verbose_name='Activo')),
                ('is_purchasable', models.BooleanField(default=True, help_text='Si puede ser incluido en órdenes de compra', verbose_name='Se puede comprar')),
                ('is_sellable', models.BooleanField(default=True, help_text='Si puede ser incluido en órdenes de venta', verbose_name='Se puede vender')),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='products', to='inventory.category', verbose_name='Categoría')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
            ],
            options={
                'verbose_name': 'Producto',
                'verbose_name_plural': 'Productos',
                'db_table': 'inventory_products',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Lot',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('lot_number', models.CharField(help_text='Identificador único del lote', max_length=50, verbose_name='Número de Lote')),
                ('production_date', models.DateField(blank=True, null=True, verbose_name='Fecha de Producción')),
                ('expiration_date', models.DateField(blank=True, help_text='Fecha de caducidad del lote', null=True, verbose_name='Fecha de Vencimiento')),
                ('quantity', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Cantidad')),
                ('cost', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Costo')),
                ('notes', models.TextField(blank=True, verbose_name='Notas')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lots', to='inventory.product', verbose_name='Producto')),
            ],
            options={
                'verbose_name': 'Lote',
                'verbose_name_plural': 'Lotes',
                'db_table': 'inventory_lots',
                'ordering': ['expiration_date', 'production_date'],
            },
        ),
        migrations.CreateModel(
            name='StockTransfer',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('transfer_number', models.CharField(max_length=20, unique=True, verbose_name='Número de Transferencia')),
                ('status', models.CharField(choices=[('draft', 'Borrador'), ('confirmed', 'Confirmado'), ('in_transit', 'En Tránsito'), ('completed', 'Completado'), ('cancelled', 'Cancelado')], default='draft', max_length=20, verbose_name='Estado')),
                ('scheduled_date', models.DateField(blank=True, null=True, verbose_name='Fecha Programada')),
                ('shipped_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Despacho')),
                ('received_date', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Recepción')),
                ('notes', models.TextField(blank=True, verbose_name='Notas')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
            ],
            options={
                'verbose_name': 'Transferencia',
                'verbose_name_plural': 'Transferencias',
                'db_table': 'inventory_transfers',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='StockTransferItem',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='Cantidad')),
                ('received_quantity', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Cantidad Recibida')),
                ('notes', models.CharField(blank=True, max_length=200, verbose_name='Notas')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('lot', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='inventory.lot', verbose_name='Lote')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transfer_items', to='inventory.product', verbose_name='Producto')),
                ('transfer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='inventory.stocktransfer', verbose_name='Transferencia')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
            ],
            options={
                'verbose_name': 'Ítem de Transferencia',
                'verbose_name_plural': 'Ítems de Transferencia',
                'db_table': 'inventory_transfer_items',
            },
        ),
        migrations.CreateModel(
            name='UnitOfMeasure',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Nombre de la unidad (ej. "Kilogramo")', max_length=50, unique=True, verbose_name='Nombre')),
                ('abbreviation', models.CharField(help_text='Abreviatura (ej. "KG")', max_length=10, unique=True, verbose_name='Abreviatura')),
                ('is_base_unit', models.BooleanField(default=False, verbose_name='Es Unidad Base')),
                ('is_active', models.BooleanField(default=True, verbose_name='Activa')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
            ],
            options={
                'verbose_name': 'Unidad de Medida',
                'verbose_name_plural': 'Unidades de Medida',
                'db_table': 'inventory_units_of_measure',
                'ordering': ['name'],
            },
        ),
        migrations.AddField(
            model_name='product',
            name='unit_of_measure',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='products', to='inventory.unitofmeasure', verbose_name='Unidad de Medida'),
        ),
        migrations.CreateModel(
            name='Warehouse',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Nombre del almacén (ej. "Almacén Central")', max_length=100, verbose_name='Nombre')),
                ('code', models.CharField(help_text='Código único del almacén (ej. "ALM-001")', max_length=20, unique=True, verbose_name='Código')),
                ('address', models.TextField(help_text='Dirección física del almacén', verbose_name='Dirección')),
                ('city', models.CharField(max_length=100, verbose_name='Ciudad')),
                ('state', models.CharField(max_length=100, verbose_name='Estado/Provincia')),
                ('postal_code', models.CharField(max_length=20, verbose_name='Código Postal')),
                ('country', models.CharField(default='México', max_length=100, verbose_name='País')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='Teléfono')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='Email')),
                ('warehouse_type', models.CharField(choices=[('main', 'Principal'), ('branch', 'Sucursal'), ('virtual', 'Virtual'), ('transit', 'En Tránsito')], default='branch', max_length=20, verbose_name='Tipo')),
                ('is_active', models.BooleanField(default=True, verbose_name='Activo')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('manager', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='managed_warehouses', to=settings.AUTH_USER_MODEL, verbose_name='Responsable')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
            ],
            options={
                'verbose_name': 'Almacén',
                'verbose_name_plural': 'Almacenes',
                'db_table': 'inventory_warehouses',
                'ordering': ['name'],
            },
        ),
        migrations.AddField(
            model_name='stocktransfer',
            name='destination_warehouse',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='incoming_transfers', to='inventory.warehouse', verbose_name='Almacén Destino'),
        ),
        migrations.AddField(
            model_name='stocktransfer',
            name='source_warehouse',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='outgoing_transfers', to='inventory.warehouse', verbose_name='Almacén Origen'),
        ),
        migrations.CreateModel(
            name='Stock',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.IntegerField(default=0, help_text='Cantidad física en el almacén', verbose_name='Cantidad Disponible')),
                ('reserved_quantity', models.IntegerField(default=0, help_text='Cantidad reservada para órdenes de venta pendientes', validators=[django.core.validators.MinValueValidator(0)], verbose_name='Cantidad Reservada')),
                ('location', models.CharField(blank=True, help_text='Ubicación específica (ej. "A-01-03" = Pasillo A, Estante 1, Nivel 3)', max_length=50, verbose_name='Ubicación')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stocks', to='inventory.product', verbose_name='Producto')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
                ('warehouse', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stocks', to='inventory.warehouse', verbose_name='Almacén')),
            ],
            options={
                'verbose_name': 'Stock',
                'verbose_name_plural': 'Stocks',
                'db_table': 'inventory_stock',
                'ordering': ['product__name', 'warehouse__name'],
            },
        ),
        migrations.CreateModel(
            name='SerialNumber',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('serial', models.CharField(max_length=100, unique=True, verbose_name='Número de Serie')),
                ('status', models.CharField(choices=[('available', 'Disponible'), ('reserved', 'Reservado'), ('sold', 'Vendido'), ('returned', 'Devuelto'), ('defective', 'Defectuoso')], default='available', max_length=20, verbose_name='Estado')),
                ('received_date', models.DateField(auto_now_add=True, verbose_name='Fecha de Recepción')),
                ('sold_date', models.DateField(blank=True, null=True, verbose_name='Fecha de Venta')),
                ('notes', models.TextField(blank=True, verbose_name='Notas')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('lot', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='serial_numbers', to='inventory.lot', verbose_name='Lote')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='serial_numbers', to='inventory.product', verbose_name='Producto')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
                ('warehouse', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='serial_numbers', to='inventory.warehouse', verbose_name='Almacén')),
            ],
            options={
                'verbose_name': 'Número de Serie',
                'verbose_name_plural': 'Números de Serie',
                'db_table': 'inventory_serial_numbers',
                'ordering': ['product__sku', 'serial'],
            },
        ),
        migrations.AddField(
            model_name='lot',
            name='warehouse',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lots', to='inventory.warehouse', verbose_name='Almacén'),
        ),
        migrations.CreateModel(
            name='InventoryTransaction',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('transaction_type', models.CharField(choices=[('in', 'Entrada'), ('out', 'Salida'), ('transfer_in', 'Transferencia Entrada'), ('transfer_out', 'Transferencia Salida'), ('adj_plus', 'Ajuste Positivo'), ('adj_minus', 'Ajuste Negativo'), ('return_customer', 'Devolución de Cliente'), ('return_supplier', 'Devolución a Proveedor')], max_length=20, verbose_name='Tipo de Transacción')),
                ('reason', models.CharField(choices=[('purchase', 'Compra'), ('sale', 'Venta'), ('transfer', 'Transferencia'), ('physical_count', 'Inventario Físico'), ('damage', 'Daño/Rotura'), ('theft', 'Robo'), ('expired', 'Vencimiento'), ('production', 'Producción'), ('other', 'Otro')], max_length=20, verbose_name='Razón')),
                ('quantity', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='Cantidad')),
                ('stock_before', models.IntegerField(verbose_name='Stock Antes')),
                ('stock_after', models.IntegerField(verbose_name='Stock Después')),
                ('unit_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Costo Unitario')),
                ('reference_type', models.CharField(blank=True, help_text='Tipo de documento origen (purchase_order, sale_order, etc.)', max_length=50, verbose_name='Tipo de Referencia')),
                ('reference_id', models.UUIDField(blank=True, help_text='ID del documento origen', null=True, verbose_name='ID de Referencia')),
                ('notes', models.TextField(blank=True, verbose_name='Notas')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
                ('lot', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transactions', to='inventory.lot', verbose_name='Lote')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transactions', to='inventory.product', verbose_name='Producto')),
                ('serial_number', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transactions', to='inventory.serialnumber', verbose_name='Número de Serie')),
                ('warehouse', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transactions', to='inventory.warehouse', verbose_name='Almacén')),
            ],
            options={
                'verbose_name': 'Transacción de Inventario',
                'verbose_name_plural': 'Transacciones de Inventario',
                'db_table': 'inventory_transactions',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='WarehouseLocation',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Fecha y hora en que se creó este registro', verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Fecha y hora de la última modificación', verbose_name='Última Modificación')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='Indica si el registro ha sido eliminado lógicamente', verbose_name='Eliminado')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Fecha y hora en que se eliminó el registro', null=True, verbose_name='Fecha de Eliminación')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Identificador único universal', primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(help_text='Código de ubicación (ej. "A-01-03")', max_length=50, verbose_name='Código')),
                ('name', models.CharField(help_text='Nombre descriptivo (ej. "Zona A, Pasillo 1, Nivel 3")', max_length=100, verbose_name='Nombre')),
                ('location_type', models.CharField(choices=[('zone', 'Zona'), ('aisle', 'Pasillo'), ('rack', 'Estante'), ('shelf', 'Nivel'), ('bin', 'Casillero')], default='bin', max_length=20, verbose_name='Tipo')),
                ('max_weight', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Peso Máximo (kg)')),
                ('max_volume', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Volumen Máximo (m³)')),
                ('is_active', models.BooleanField(default=True, verbose_name='Activa')),
                ('created_by', models.ForeignKey(blank=True, help_text='Usuario que creó este registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la eliminación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='Eliminado por')),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='children', to='inventory.warehouselocation', verbose_name='Ubicación Padre')),
                ('updated_by', models.ForeignKey(blank=True, help_text='Usuario que realizó la última modificación', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modificado por')),
                ('warehouse', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='locations', to='inventory.warehouse', verbose_name='Almacén')),
            ],
            options={
                'verbose_name': 'Ubicación de Almacén',
                'verbose_name_plural': 'Ubicaciones de Almacén',
                'db_table': 'inventory_warehouse_locations',
                'ordering': ['warehouse__name', 'code'],
            },
        ),
        migrations.AddIndex(
            model_name='product',
            index=models.Index(fields=['sku'], name='inventory_p_sku_3b9fee_idx'),
        ),
        migrations.AddIndex(
            model_name='product',
            index=models.Index(fields=['barcode'], name='inventory_p_barcode_2b7d27_idx'),
        ),
        migrations.AddIndex(
            model_name='product',
            index=models.Index(fields=['name'], name='inventory_p_name_199ca2_idx'),
        ),
        migrations.AddIndex(
            model_name='product',
            index=models.Index(fields=['category'], name='inventory_p_categor_4a3921_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='stock',
            unique_together={('product', 'warehouse')},
        ),
        migrations.AlterUniqueTogether(
            name='lot',
            unique_together={('product', 'warehouse', 'lot_number')},
        ),
        migrations.AddIndex(
            model_name='inventorytransaction',
            index=models.Index(fields=['product', '-created_at'], name='inventory_t_product_ec410b_idx'),
        ),
        migrations.AddIndex(
            model_name='inventorytransaction',
            index=models.Index(fields=['warehouse', '-created_at'], name='inventory_t_warehou_3b340c_idx'),
        ),
        migrations.AddIndex(
            model_name='inventorytransaction',
            index=models.Index(fields=['reference_type', 'reference_id'], name='inventory_t_referen_ef9dcf_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='warehouselocation',
            unique_together={('warehouse', 'code')},
        ),
    ]
